input,subject,subject_type,data/object,relation,object,object_type
第3章知识存储王鑫天津大学随着知识图谱规模的日益增长，数据管理愈加重要。,知识存储,知识存储,,实现,知识图谱数据管理,文本
一方面，以文件形式保存的知识图谱显然无法满足用户的查询、检索、推理、分析及各种应用需求；另一方面，传统数据库的关系模型与知识图谱的图模型之间存在显著差异，关系数据库无法有效地管理大规模知识图谱数据。,知识图谱,知识图谱,,包含,数据库,知识图谱
为了更好地进行三元组数据的存储，语义万维网领域发展出专门存储RDF数据的三元组库；数据库领域发展出用于管理属性图的图数据库。,三元组数据库,知识存储,属性,作用,存储RDF数据,文本
3.1知识图谱数据库基本知识本节首先介绍目前表示知识图谱的两种主要图数据模型：RDF图和属性图。,知识图谱数据库,知识存储,属性,作用,目前表示知识图谱的两种主要图数据模型,文本
3.1.1知识图谱数据模型从数据模型角度来看，知识图谱本质上是一种图数据。,知识图谱,知识图谱,,属于,图数据,知识图谱
知识图谱数据模型的数学基础源于有着近300年历史的数学分支——图论。,数据模型,知识图谱,,来源,图论,知识图谱
"在图论中，图是二元组G=（V,E），其中V是节点集合，E是边集合。",图,知识存储,属性,被定义为,"二元组G=（V,E）",文本
知识图谱数据模型基于图论中图的定义，用节点集合表示实体，用边集合表示实体间的联系，这种一般和通用的数据表示恰好能够自然地刻画现实世界中事物的广泛联系。,数据模型,知识图谱,,来源,图的定义,知识图谱
1.RDF图RDF是W3C制定的在语义万维网上表示和交换机器可理解信息的标准数据模型[1]。,RDF,知识表示,属性,被定义为,W3C制定的在语义万维网上表示和交换机器可理解信息的标准数据模型,文本
"在RDF三元组集合中，每个Web资源具有一个HTTPURI作为其唯一的id；一个RDF图定义为三元组(s,p,o)的有限集合；每个三元组代表一个陈述句，其中s是主语，p是谓语，o是宾语；(s,p,o)表示资源s与资源o之间具有联系p，或表示资源s具有属性p且其取值为o。",RDF三元组,知识表示,,属于,RDF,知识表示
"在RDF三元组集合中，每个Web资源具有一个HTTPURI作为其唯一的id；一个RDF图定义为三元组(s,p,o)的有限集合；每个三元组代表一个陈述句，其中s是主语，p是谓语，o是宾语；(s,p,o)表示资源s与资源o之间具有联系p，或表示资源s具有属性p且其取值为o。",RDF三元组,知识表示,属性,被定义为,"(s,p,o)的有限集合",文本
实际上，RDF三元组集合即为图中的有向边集合。,RDF三元组集合,知识表示,属性,被定义为,图中的有向边集合,文本
节点属性可用三元组表示，这类三元组的宾语称为字面量，即图中的矩形。,节点属性,知识表示,,来源,RDF三元组,知识表示
边上的属性表示起来稍显烦琐，最常见的是利用RDF中一种叫作“具体化”（reification）的技术[2]，需要引入额外的点表示整个三元组，将边属性表示为以该节点为主语的三元组。,边上的属性,知识表示,,来源,具体化技术,知识表示
边上的属性表示起来稍显烦琐，最常见的是利用RDF中一种叫作“具体化”（reification）的技术[2]，需要引入额外的点表示整个三元组，将边属性表示为以该节点为主语的三元组。,边上的属性,知识表示,属性,英文名,reification,文本
图3-2RDF图中边属性的表示2.属性图属性图可以说是目前被图数据库业界采纳最广的一种图数据模型[3]。,属性图,知识表示,属性,内容,目前被图数据库业界采纳最广的一种图数据模型[3]。,文本
图3-3给出的属性图不仅表达了RDF图的全部数据，而且还增加了边上的“权重”属性。,属性图,知识表示,,实现,RDF图,知识表示
图3-3给出的属性图不仅表达了RDF图的全部数据，而且还增加了边上的“权重”属性。,属性图,知识表示,,实现,RDF三元组,知识表示
目前，RDF图上的查询语言是SPARQL；属性图上的查询语言常用的是Cypher和Gremlin。,SPARQL,知识图谱项目,属性,被定义为,RDF图上的查询语言,文本
目前，RDF图上的查询语言是SPARQL；属性图上的查询语言常用的是Cypher和Gremlin。,SPARQL,知识图谱项目,,属于,查询语言,知识图谱项目
目前，RDF图上的查询语言是SPARQL；属性图上的查询语言常用的是Cypher和Gremlin。,Cypher,知识图谱项目,,实现,属性图,知识表示
1.SPARQLSPARQL是W3C制定的RDF图数据的标准查询语言[4]。,SPARQL,知识图谱项目,属性,被定义为,W3C制定的RDF图数据的标准查询语言,文本
SPARQL从语法上借鉴了SQL，同样属于声明式查询语言。,SPARQL,知识图谱项目,属性,内容,声明式查询语言,文本
最新的SPARQL1.1版本为有效查询RDF图专门设计了三元组模式、子图模式、属性路径等多种查询机制。,SPARQL1.1,知识图谱项目,属性,作用,查询RDF图专门设计了三元组模式、子图模式、属性路径等多种查询机制,文本
几乎全部的RDF三元组数据库都实现了SPARQL语言。,RDF三元组数据库,知识表示,,实现,SPARQL语言,知识图谱项目
三元组模式查询是最基本的SPARQL查询。,SPARQL查询,知识图谱项目,,包含,三元组模式查询,知识表示
（2）查询程序员张三认识的其他程序员参加的项目输出：说明：这是由两个三元组模式组成的一个基本图模式（Basic_Graph_Pattern）查询，简称为BGP查询。,BGP查询,知识图谱项目,属性,被定义为,两个三元组模式组成的一个基本图模式（Basic_Graph_Pattern）查询，简称为BGP查询。,文本
实际上，这两个三元组模式之间通过公共变量？p连接为一个链式查询。,三元组模式,知识表示,,包含,链式查询,知识表示
这里既有？p和？pr分别作为两个三元组模式的宾语和主语连接起来的链式模式，也有？p作为两个三元组模式的主语连接起来的星形结构，该查询是一个更加一般的BGP查询。,三元组模式,知识表示,,由组成,链式模式,知识表示
这里既有？p和？pr分别作为两个三元组模式的宾语和主语连接起来的链式模式，也有？p作为两个三元组模式的主语连接起来的星形结构，该查询是一个更加一般的BGP查询。,三元组模式,知识表示,,实现,星形结构,知识表示
实际上，BGP查询相当于一个带有变量的查询图，查询过程是在数据图中寻找与查询图映射Isomorphism）或子图同态匹配的所有子图，等价于图论中的子图同构（Subgraph（Subgraph_Homomorphism）问题[5]，所以也将BGP查询称为子图匹配查询。,BGP查询,知识图谱项目,,等价,子图匹配查询,知识表示
1.1引入的属性路径（Property_SPARQL_SPARQL实际上是一整套知识服务标准体系。,SPARQL,知识图谱项目,,属于,知识服务标准体系,知识表示
SPARQL1.1语言的语法和语义的完整定义请参见W3C的推荐标准“SPARQL1.1查询语言”[4]，该标准连同其他10个推荐标准共同组成了SPARQL知识平台，包括查询[4]、更新[6]、服务描述[7]、联邦查询[8]、查询结果格式[9]、蕴涵推理[10]和接口协议[11]等。,SPARQL1.1查询语言,知识图谱项目,,属于,SPARQL,知识图谱项目
2.CypherCypher最初是图数据库Neo4j中实现的属性图数据查询语言[15]。,Cypher,知识图谱项目,,属于,属性图数据查询语言,知识表示
与SPARQL一样，Cypher也是一种声明式语言，即用户只需要声明“查什么”，而无须关心“怎么查”，这就好比乘坐出租车到一个目的地，只需要告诉司机要到哪里，具体的行车路线可由司机安排，乘客并不需要关心。,Cypher,知识图谱项目,,属于,声明式语言,知识表示
这类语言的优点是便于用户学习掌握，同时给予数据库进行查询优化的空间，缺点是不能满足高级用户导航式查询的要求，数据库规划的查询执行计划有可能并不是最优方案。,数据库查询语言,知识表示,属性,目标,便于用户学习掌握同时给予数据库进行查询优化的空间,文本
2015年，Neo4j公司发起开源项目openCypher[16]，旨在对Cypher进行标准化工作，为其他实现者提供语法和语义的参考标准。,openCypher,知识图谱项目,属性,目标,Cypher标准化工作,文本
虽然Cypher的发展目前仍由Neo4j主导，但包括SAP_HANA_Graph[17]、Redis_Graph[18]、AgensGraph[19]和Memgraph[20]等在内的图数据库产品已经实现了Cypher。,Cypher,知识图谱项目,,属于,Neo4j主导的图数据库产品,知识图谱项目
3.GremlinGremlin是Apache_TinkerPop图计算框架[21]提供的属性图查询语言[22]。,Gremlin,知识图谱项目,,属于,属性图查询语言,知识表示
ApacheTinkerPop被设计为访问图数据库的通用API接口，其作用类似于关系数据库上的JDBC接口。,ApacheTinkerPop,知识图谱项目,属性,内容,访问图数据库的通用API接口,文本
Gremlin的定位是图遍历语言，其执行机制好比是一个人置身于图中沿着有向边，从一个节点到另一个节点进行导航式的游走。,Gremlin,知识图谱项目,,属于,图遍历语言,知识表示
这种执行方式决定了用户使用Gremlin需要指明具体的导航步骤，这和自己驾驶汽车到一个目的地需要知道行车路线是一个道理，所以将Gremlin归为过程式语言，即需要明确“怎么做”。,Gremlin,知识图谱项目,,属于,过程式语言,知识表述
这类语言的优点是可以时刻知道自己在图中所处的位置，以及是如何到达该位置的；缺点是用户需要“认识路”！与受到SQL影响的声明式语言SPARQL和Cypher不同，Gremlin更像一种函数式的编程语言接口。,Gremlin,知识图谱项目,,属于,函数式的编程语言接口,知识表示
下面通过几个例子认识Gremlin语言，假设用g代表图3-3中的属性图。,Gremlin,知识图谱项目,,属于,图查询语言,知识表示
（1）列出图中所有节点的属性输出：说明：V表示节点集合。,V,知识表示,属性,目标,列出图中所有节点的属性,文本
（1）列出图中所有节点的属性输出：说明：V表示节点集合。,V,知识表示,属性,被定义为,节点集合,文本
3.2常见知识图谱存储方法本节介绍三类知识图谱数据库：基于关系数据库的存储方案、面向RDF的三元组数据库和原生图数据库，多数系统给出了演示操作步骤。,基于关系数据库的存储方案,知识存储,属性,英文名,based on relation database storage,文本
3.2.1基于关系数据库的存储方案关系数据库拥有40多年的发展历史，从理论到实践有着一整套成熟体系。,关系数据库,知识存储,,包含,关系数据库的存储方案,知识存储
在历史上，关系数据库曾经取代了层次数据库和网状数据库；成功吸收容纳了面向对象数据库和XML数据库，成为现今数据管理的主流数据库产品。,关系数据库,知识存储,,实现,历史数据管理的主流数据库产品,知识图谱项目
商业数据库包括Oracle、DB2和SQL_Server等，开源数据库包括PostgreSQL和MySQL等。,商业数据库,知识存储,,包含,Oracle,知识图谱项目
商业数据库包括Oracle、DB2和SQL_Server等，开源数据库包括PostgreSQL和MySQL等。,商业数据库,知识存储,,包含,DB2,知识图谱项目
商业数据库包括Oracle、DB2和SQL_Server等，开源数据库包括PostgreSQL和MySQL等。,商业数据库,知识存储,,包含,SQL_Server,知识图谱项目
商业数据库包括Oracle、DB2和SQL_Server等，开源数据库包括PostgreSQL和MySQL等。,开源数据库,知识存储,,包含,PostgreSQL,知识图谱项目
商业数据库包括Oracle、DB2和SQL_Server等，开源数据库包括PostgreSQL和MySQL等。,开源数据库,知识存储,,包含,MySQL,知识图谱项目
因此基于历史上的成功经验，人们容易想到使用关系数据库存储知识图谱。,关系数据库,知识存储,,实现,知识图谱,知识图谱
本小节将按照时间发展顺序简要介绍各种基于关系表的知识图谱存储结构，包括三元组表、水平表、属性表、垂直划分、六重索引和DB2RDF。,基于关系表的知识图谱存储结构,知识存储,,包含,三元组表,知识存储
本小节将按照时间发展顺序简要介绍各种基于关系表的知识图谱存储结构，包括三元组表、水平表、属性表、垂直划分、六重索引和DB2RDF。,基于关系表的知识图谱存储结构,知识存储,,包含,基于关系表的知识图谱存储结构,知识存储
如图3-4所示，下面以摘自DBpedia数据集[23]的RDF数据作为知识图谱进行讲解和举例。,RDF数据,知识图谱项目,,实现,知识图谱进行讲解和举例,知识图谱
该知识图谱描述了IBM公司及其创始人Charles_Flint和Google公司及其创始人LarryPage的一些属性和联系。,知识图谱,知识存储,属性,创建者,IBM公司,人物/实验室
表3-1三元组表三元组表存储方案虽然简单明了，但三元组表的行数与知识图谱的边数一样，其最大问题在于将知识图谱查询翻译为SQL查询后的三元组表自连接。,三元组表,知识存储,,属于,存储方案,知识存储
当三元组表规模较大时，多个自连接操作会使SQL查询性能低下。,自连接操作,知识存储,属性,缺点,降低SQL查询性能,文本
采用三元组表存储方案的代表是RDF数据库系统3store[24]。,RDF数据库系统3store,知识图谱项目,,属于,采用三元组表存储方案,知识存储
图3-5一个星形SPARQL查询图3-6三元组表方案中SPARQL查询转换为等价的SQL查询2.水平表水平表存储方案同样非常简单，与三元组表不同，其每行记录存储一个知识图谱中一个主语的所有谓语和宾语。,SPARQL查询,知识图谱项目,,包含,星形SPARQL查询,知识图谱项目
实际上，水平表就相当于知识图谱的邻接表。,水平表,知识存储,,等价,知识图谱的邻接表,知识存储
不难看出，水平表的列数是知识图谱中不同谓语的数量，行数是知识图谱中不同主语的数量。,水平表的列数,知识存储,属性,内容,知识图谱中不同谓语的数量,文本
不难看出，水平表的列数是知识图谱中不同谓语的数量，行数是知识图谱中不同主语的数量。,水平表的行数,知识存储,属性,内容,知识图谱中不同主语的数量,文本
不难看出，水平表的列数是知识图谱中不同谓语的数量，行数是知识图谱中不同主语的数量。,水平表的列数,知识存储,属性,内容,知识图谱中不同谓语的数量,文本
不难看出，水平表的列数是知识图谱中不同谓语的数量，行数是知识图谱中不同主语的数量。,水平表的行数,知识存储,属性,内容,知识图谱中不同主语的数量,文本
表3-2水平表在水平表存储方案中，图3-5所示的SPARQL查询可以等价地翻译为图3-7中的SQL查询。,水平表存储方案,知识存储,,包含,SPARQL查询,知识图谱项目
可见，与三元组表相比，水平表的查询大为简化，仅需单表查询即可完成该任务，不用进行连接操作。,水平表,知识存储,属性,特点,简化,文本
可见，与三元组表相比，水平表的查询大为简化，仅需单表查询即可完成该任务，不用进行连接操作。,水平表,知识存储,属性,英文名,level table,文本
采用水平表存储方案的代表是早期的RDF数据库系统DLDB[25]。,DLDB,知识图谱项目,,属于,水平表存储方案,知识存储
3.属性表属性表（Property_Table）存储方案是对水平表的细化，将同类主语分到一个表中，不同类主语分到不同表中。,属性表,知识存储,属性,英文名,Property_Table,文本
对于图3-5中的SPARQL查询，在属性表存储方案上等价的SQL查询如图3-9所示；该查询与图3-7中水平表上查询的唯一区别是将表名由t变为了person。,SPARQL查询,知识图谱项目,属性,特点,在属性表存储方案上等价的SQL查询,文本
图3-8属性表图3-9属性表方案中SPARQL查询转换为等价的SQL查询属性表既克服了三元组表的自连接问题，又解决了水平表中列数目过多的问题。,属性表,知识存储,属性,作用,SPARQL查询转换为等价的SQL查询,文本
图3-8属性表图3-9属性表方案中SPARQL查询转换为等价的SQL查询属性表既克服了三元组表的自连接问题，又解决了水平表中列数目过多的问题。,属性表,知识存储,,实现,SPARQL查询,知识图谱项目
实际上，水平表方案是属性表存储方案的一种极端情况，即水平表是将所有主语划归为一类，因此属性表中的空值问题与水平表相比会大为缓解。,水平表方案,知识存储,,属于,属性表存储方案,知识存储
实际上，水平表方案是属性表存储方案的一种极端情况，即水平表是将所有主语划归为一类，因此属性表中的空值问题与水平表相比会大为缓解。,水平表方案,知识存储,属性,被定义为,属性表存储方案的一种极端情况,文本
采用属性表存储方案的代表是RDF三元组库Jena[26]。,RDF三元组库Jena,知识图谱项目,,属于,采用属性表存储方案,知识存储
4.垂直+101:159划分垂直划分（Vertical_Partitioning）存储方案是由美国麻省理工学院的Abadi等人在2007年提出的RDF数据存储方法[27]。,垂直划分,知识存储,,属于,存储方案,知识存储
4.垂直划分垂直划分（Vertical_Partitioning）存储方案是由美国麻省理工学院的Abadi等人在2007年提出的RDF数据存储方法[27]。,垂直划分,知识存储,属性,英文名,Vertical_Partitioning,文本
该方法以三元组的谓语作为划分维度，将RDF知识图谱划分为若干张只包含(主语，宾语)两列的表，表的总数量即知识图谱中不同谓语的数量；也就是说，为每种谓语建立一张表，表中存放知识图谱中由该谓语连接的主语和宾语值。,RDF知识图谱的划分方法,知识存储,属性,被定义为,为每种谓语建立一张表，表中存放知识图谱中由该谓语连接的主语和宾语值,文本
对于图3-5中的SPARQL查询，在垂直划分存储方案中等价的SQL查询如图3-11所示；该查询涉及3张谓语表born、died和founder的连接操作。,SPARQL查询,知识存储,,包含,垂直划分存储方案,知识存储
由于谓语表中的行都是按照主语列进行排序的，可以快速执行这种以“主语-主语”作为连接条件的查询操作，而这种连接操作又是常用的。,谓语表,知识存储,,实现,查询操作,知识存储
图3-10垂直划分存储方案图3-11垂直划分方案中等价的SQL查询不过，垂直划分存储方案依然存在几个缺点：需要创建的表的数目与知识图谱中不同谓语数目相等，而大规模的真实知识图谱（如DBpedia、YAGO、Wikidata等）中谓语数目可能超过几千个，在关系数据库中维护如此规模的表需要很大的开销；越是复杂的知识图谱查询操作，需要执行的表连接操作数量越多，而对于未指定谓语的三元组查询，将发生需要连接全部谓语表进行查询的极端情况；谓语表的数量越多，数据更新维护代价越大，对于一个主语的更新将涉及多张表，产生很高的更新时I/O开销。,垂直划分存储方案,知识存储,属性,英文名,vertical partitioning storage,文本
采用垂直划分存储方案的代表数据库是SW-Store[28]。,SW-Store,知识图谱项目,,属于,采用垂直划分存储方案的代表数据库,知识存储
不难看出，其中spo表就是原来的三元组表。,spo表,知识存储,,属于,三元组表,知识存储
六重索引通过6张表的连接操作不仅缓解了三元组表的单表自连接问题，而且加速了某些典型知识图谱查询的效率。,六重索引,知识存储,属性,目标,缓解三元组表的单表自连接问题以及加速某些典型知识图谱查询的效率,文本
使用六重索引方法的典型系统有RDF-3X[28]和Hexastore[29]。,RDF-3X,知识图谱项目,,属于,六重索引方法,知识存储
使用六重索引方法的典型系统有RDF-3X[28]和Hexastore[29]。,六重索引方法的典型系统,知识存储,,包含,RDF-3X,知识图谱项目
使用六重索引方法的典型系统有RDF-3X[28]和Hexastore[29]。,六重索引方法的典型系统,知识存储,,包含,Hexastore,知识图谱项目
6.DB2RDFDB2RDF是由IBM研究中心于2013年提出的一种面向实体的RDF知识图谱存储方案[30]，该方案是以往RDF关系存储方案的一种权衡折中，既具备了三元组表、属性表和垂直划分方案的部分优点，又克服了这些方案的部分缺点。,DB2RDF,知识图谱项目,,属于,面向实体的RDF知识图谱存储方案,知识存储
三元组表的优势在于“行维度”上的灵活性，即存储模式不会随行的增加而变化；DB2RDF方案将这种灵活性扩展到“列维度”上，即将表的列作为谓语和宾语的存储位置，而不将列与谓语进行绑定。,DB2RDF,知识图谱项目,属性,内容,将表的列作为谓语和宾语的存储位置,文本
"dph（direct_primary_hash）是存储方案的主表，该表中一行存储一个主语（主语列）及其全部谓语（predi列）和宾语（vali列）,0≤i≤k,k为图着色结果值或某个给定值。",dph,知识图谱项目,,属于,存储方案的主表,知识存储
"dph（direct_primary_hash）是存储方案的主表，该表中一行存储一个主语（主语列）及其全部谓语（predi列）和宾语（vali列）,0≤i≤k,k为图着色结果值或某个给定值。",dph,知识图谱项目,,等价,direct_primary_hash,知识图谱项目
spill列是溢出标志，即对于一行能存储下的实体，该行spill列为0，对于溢出的实体，该实体所有行的spill列为1。,spill列,知识存储,,属于,溢出标志,知识存储
对于多值谓语的处理，引入ds（direct_secondary_hash）表。,ds表,知识存储,,实现,多值谓语的处理,知识存储
当dph表中遇到一个多值谓语时，则在相应的宾语处生成一个唯一的id值；将该id值和每个对应的宾语存储为ds表的一行。,dph表,知识存储,属性,内容,在相应的宾语处生成一个唯一的id值,文本
实际上，dph表实现了列的共享：一方面，不同实体的相同谓语总是会被分配到相同的列上；另一方面，同一列中可以存储多个不同的谓语。,dph表,知识存储,,实现,列的共享,知识存储
正是由于DB2RDF方案具备“列共享”机制，才使得在关系表中最大列数目上限的情况下可以存储远超出该上限的谓语数目，也能够有效地解决水平表方案中存在的谓语稀疏性空值问题。,DB2RDF方案,知识图谱项目,,实现,“列共享”机制,知识存储
图3-13DB2RDF方案从图数据模型的角度来看，dph表和ds表实际上存储了实体节点（主语）的出边信息（从主语经谓语到宾语）；为了提高查询处理效率，还需要存储实体节点的入边信息（从宾语经谓语到主语）。,dph表,知识存储,,包含,图数据模型中存储实体节点出边信息,知识存储
图3-13DB2RDF方案从图数据模型的角度来看，dph表和ds表实际上存储了实体节点（主语）的出边信息（从主语经谓语到宾语）；为了提高查询处理效率，还需要存储实体节点的入边信息（从宾语经谓语到主语）。,dph表,知识存储,,包含,出边信息,知识存储
图3-13DB2RDF方案从图数据模型的角度来看，dph表和ds表实际上存储了实体节点（主语）的出边信息（从主语经谓语到宾语）；为了提高查询处理效率，还需要存储实体节点的入边信息（从宾语经谓语到主语）。,ds表,知识存储,,包含,出边信息,知识存储
图3-13DB2RDF方案从图数据模型的角度来看，dph表和ds表实际上存储了实体节点（主语）的出边信息（从主语经谓语到宾语）；为了提高查询处理效率，还需要存储实体节点的入边信息（从宾语经谓语到主语）。,dph表,知识存储,,包含,入边信息,知识存储
图3-13DB2RDF方案从图数据模型的角度来看，dph表和ds表实际上存储了实体节点（主语）的出边信息（从主语经谓语到宾语）；为了提高查询处理效率，还需要存储实体节点的入边信息（从宾语经谓语到主语）。,ds表,知识存储,,包含,入边信息,知识存储
为此，DB2RDF方案提供了rph（reverse_primary_hash）表和rs（reverse_secondary_hash）表，如图3-13所示。,rph表,知识存储,,属于,DB2RDF方案,知识图谱项目
从中可以看出，对于知识图谱的星型查询，DB2RDF存储方案只需要查询dph表即可完成，无须进行连接操作。,DB2RDF存储方案,知识图谱项目,,属于,星型查询,知识存储
从中可以看出，对于知识图谱的星型查询，DB2RDF存储方案只需要查询dph表即可完成，无须进行连接操作。,DB2RDF存储方案,知识图谱项目,,实现,等价查询dph表,知识存储
因为关系表中最大列的数目是固定的，该映射的两个优化目标是：使用的列的数目不要超过某个值m；尽量减少将同一主语的两个不同谓语分配到同一列的情况，从而减少溢出现象，因为溢出会导致查询时发生自连接。,映射的两个优化目标,知识存储,属性,目标,使用的列数目不要超过某个值m,文本
因为关系表中最大列的数目是固定的，该映射的两个优化目标是：使用的列的数目不要超过某个值m；尽量减少将同一主语的两个不同谓语分配到同一列的情况，从而减少溢出现象，因为溢出会导致查询时发生自连接。,映射的两个优化目标,知识存储,属性,作用,尽量减少将同一主语的两个不同谓语分配到同一列的情况,文本
因为关系表中最大列的数目是固定的，该映射的两个优化目标是：使用的列的数目不要超过某个值m；尽量减少将同一主语的两个不同谓语分配到同一列的情况，从而减少溢出现象，因为溢出会导致查询时发生自连接。,映射的两个优化目标,知识存储,属性,目标,尽量减少将同一主语的两个不同谓语分配到同一列的情况,文本
谓语到列映射的一种方法是使用一组散列函数，将谓语映射到一组列编号，并将谓语及其宾语存储到这组列中的第一个空列上；在一个主语对应的一行中，如果存储某谓语（及其宾语）时，散列函数计算得出的这组列中的所有列都被之前存储的该主语的谓语占用了，则产生溢出，到下一行存储该谓语。,散列函数,知识存储,属性,被定义为,将谓语映射到一组列编号，并将谓语及其宾语存储到这组列中的第一个空列上,文本
方法是将谓语到列的映射转化为图着色（Graph_Coloring）问题[31]。,将谓语到列的映射,知识存储,,等价,图着色（Graph_Coloring）问题,知识存储
方法是将谓语到列的映射转化为图着色（Graph_Coloring）问题[31]。,图着色,知识存储,属性,英文名,Graph_Coloring,文本
将一个主语上出现的不同谓语称为共现谓语（Co-occurrence_Predicates），目标是让共现谓语着上不同颜色（映射到不同列中），非共现谓语可以着上相同颜色（映射到同一列中）。,共现谓语,知识存储,属性,被定义为,将一个主语上出现的不同谓语称为,文本
将一个主语上出现的不同谓语称为共现谓语（Co-occurrence_Predicates），目标是让共现谓语着上不同颜色（映射到不同列中），非共现谓语可以着上相同颜色（映射到同一列中）。,共现谓语,知识存储,属性,英文名,Co-occurrence_Predicates,文本
图着色问题的要求是为冲突图中的节点着上颜色，使得每个节点的颜色不同于其任一邻接节点的颜色，并使所用颜色数最少；对应到谓语映射问题，即为冲突图中的谓语节点分配列，使得每个谓语映射到的列不同于其任一共现谓语映射到的列，并使所用的列数目最少。,图着色问题,知识存储,,等价,谓语映射问题,知识存储
图着色问题的要求是为冲突图中的节点着上颜色，使得每个节点的颜色不同于其任一邻接节点的颜色，并使所用颜色数最少；对应到谓语映射问题，即为冲突图中的谓语节点分配列，使得每个谓语映射到的列不同于其任一共现谓语映射到的列，并使所用的列数目最少。,图着色问题,知识存储,,来源,图着色,知识存储
需要指出的是，图着色是经典的NP难问题，对于规模较大的冲突图可用贪心算法（如Welsh-Powell算法）[32]求得近似解。,贪心算法,知识存储,,包含,Welsh-Powell算法,知识存储
3.2.2面向RDF的三元组数据库由于RDF是W3C推荐的表示语义网上关联数据（Linked_Data）的标准格式，RDF也是表示和发布Web上知识图谱的最主要数据格式之一。,RDF,知识存储,,属于,三元组数据库,知识存储
3.2.2面向RDF的三元组数据库由于RDF是W3C推荐的表示语义网上关联数据（Linked_Data）的标准格式，RDF也是表示和发布Web上知识图谱的最主要数据格式之一。,三元组数据库,知识存储,,包含,TRIP,知识存储
面向RDF的三元组数据库是专门为存储大规模RDF数据而开发的知识图谱数据库，其支持RDF的标准查询语言SPARQL。,面向RDF的三元组数据库,知识存储,,属于,知识图谱数据库,知识存储
面向RDF的三元组数据库是专门为存储大规模RDF数据而开发的知识图谱数据库，其支持RDF的标准查询语言SPARQL。,面向RDF的三元组数据库,知识存储,,实现,SPARQL,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,RDF三元组数据库,知识存储,,包含,Apache旗下的Jena,知识存储
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,RDF三元组数据库,知识存储,,包含,Eclipse旗下的RDF4J,知识存储
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,RDF三元组数据库,知识存储,,包含,RDF-3X,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,RDF三元组数据库,知识存储,,包含,gStore,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,主要的商业RDF三元组数据库,知识存储,,包含,Virtuoso,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,主要的商业RDF三元组数据库,知识存储,,包含,AllegroGraph,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,主要的商业RDF三元组数据库,知识存储,,包含,GraphDB,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,主要的商业RDF三元组数据库,知识存储,,包含,BlazeGraph,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,Apache旗下的Jena,知识存储,,包含,Jena,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,Eclipse旗下的RDF4J,知识存储,,包含,RDF4J,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,源自学术界的RDF-3X,知识存储,,包含,RDF-3X,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,源自学术界的gStore,知识存储,,包含,gStore,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,Virtuoso,知识存储,,包含,Virtuoso,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,AllegroGraph,知识存储,,包含,AllegroGraph,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,GraphDB,知识存储,,包含,GraphDB,知识图谱项目
主要的开源RDF三元组数据库包括：Apache旗下的Jena、Eclipse旗下的RDF4J以及源自学术界的RDF-3X和gStore；主要的商业RDF三元组数据库包括：Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,BlazeGraph,知识存储,,包含,BlazeGraph,知识图谱项目
ApacheJena将以实践形式进行详细介绍；下面分别介绍RDF4J、RDF-3X、gStore、Virtuoso、AllegroGraph、GraphDB和BlazeGraph。,ApacheJena,知识存储,,包含,Apache Jena,知识图谱项目
1.开源RDF三元组数据库RDF4JRDF4J目前是Eclipse基金会旗下的开源孵化项目，其前身是荷兰软件公司Aduna开发的Sesame框架。,RDF4J,知识存储,,属于,Eclipse基金会旗下的开源孵化项目,知识图谱项目
RDF4J框架的重要特点是其模块化的软件架构设计。,RDF4J,知识存储,属性,特点,模块化的软件架构设计,文本
图3-16RDF4J的高层架构图（1）底层的RDF模型定义了URI、空节点（Blank_Node）、字面值（Literal）和语句（Statement）等RDF基本元素。,RDF模型,知识存储,,包含,底层的RDF元素,知识存储
图3-16RDF4J的高层架构图（1）底层的RDF模型定义了URI、空节点（Blank_Node）、字面值（Literal）和语句（Statement）等RDF基本元素。,RDF模型,知识存储,,包含,RDF基本元素,知识存储
（2）Rio代表“RDF_I/O”，即RDF输入/输出，包括各种RDF文件格式的解析器（Parser）和编写器（Writer），解析器负责将RDF文件解析为RDF模型中的三元组语句，编写器负责将三元组语句写为RDF文件。,Rio,知识存储,,包含,RDF_I/O,知识存储
（4）存储库API（Repository_API）是用户使用的RDF管理和处理高层API，提供RDF的存储、查询和推理等服务，面向终端用户，简单易用；存储库API的一种实现是基于本地SAIL实现的SailRepository，另一种是基于远程HTTP服务器实现的HttpRepository。,存储库API,知识存储,,等价,RDF管理和处理高层API,知识存储
（4）存储库API（Repository_API）是用户使用的RDF管理和处理高层API，提供RDF的存储、查询和推理等服务，面向终端用户，简单易用；存储库API的一种实现是基于本地SAIL实现的SailRepository，另一种是基于远程HTTP服务器实现的HttpRepository。,存储库API,知识存储,属性,英文名,Repository_API,文本
（5）架构图的顶层是用户开发的应用程序和HTTP服务器，用户应用程序直接调用存储库API;HTTP服务器实现了通过HTTP访问存储库API的Web服务，可通过HttpClient库与HTTP服务器进行远程通信，从而访问远程RDF4J存储库。,架构图的顶层,知识存储,属性,内容,用户开发的应用程序和HTTP服务器,文本
（5）架构图的顶层是用户开发的应用程序和HTTP服务器，用户应用程序直接调用存储库API;HTTP服务器实现了通过HTTP访问存储库API的Web服务，可通过HttpClient库与HTTP服务器进行远程通信，从而访问远程RDF4J存储库。,用户应用程序,知识存储,,由组成,直接调用存储库API,知识存储
（5）架构图的顶层是用户开发的应用程序和HTTP服务器，用户应用程序直接调用存储库API;HTTP服务器实现了通过HTTP访问存储库API的Web服务，可通过HttpClient库与HTTP服务器进行远程通信，从而访问远程RDF4J存储库。,HTTP服务器,知识存储,属性,目标,通过HTTP访问存储库API的Web服务,文本
（5）架构图的顶层是用户开发的应用程序和HTTP服务器，用户应用程序直接调用存储库API;HTTP服务器实现了通过HTTP访问存储库API的Web服务，可通过HttpClient库与HTTP服务器进行远程通信，从而访问远程RDF4J存储库。,HTTP服务器,知识存储,属性,特点,可通过HttpClient库与HTTP服务器进行远程通信,文本
（5）架构图的顶层是用户开发的应用程序和HTTP服务器，用户应用程序直接调用存储库API;HTTP服务器实现了通过HTTP访问存储库API的Web服务，可通过HttpClient库与HTTP服务器进行远程通信，从而访问远程RDF4J存储库。,HTTP服务器,知识存储,属性,方法,访问远程RDF4J存储库,文本
目前，RDF-3X只支持Linux系统。,Linux系统,知识存储,,实现,RDF-3X,知识图谱项目
RDF-3X的最大特点在于其为RDF数据精心打造的压缩物理存储方案、查询处理和查询优化技术。,RDF-3X,知识图谱项目,属性,目标,为RDF数据精心打造的压缩物理存储方案、查询处理和查询优化技术,文本
在逻辑存储上，虽然以简单的三元组表为基础，但首次提出全索引方案：建立6种三元组索引spo、sop、osp、ops、pso和pos；建立6种二元聚合索引sp、ps、so、os、po和op；建立3种一元聚合索引s、p、o。,spo,知识存储,,属于,全索引方案,知识存储
借助巧妙设计的三元组压缩技术，全索引方案的空间开销是可以接受的，全索引为查询处理和优化带来了巨大便利。,全索引,知识存储,属性,作用,查询处理和优化带来便利,文本
对于利用全索引方案的查找，仅以spo索引为例进行举例。,全索引方案的查找,知识存储,,包含,spo索引,知识存储
"如图3-18所示，利用spo索引查找三元组模式(Albert_Einstein,invented,?x),spo索引中存储的是已经进行字典编码之后的由整数id值组成的(s,p,o)三元组，并且已按照s、p、o值由小到大的顺序进行了排序。",spo索引,知识存储,,属于,查找三元组模式,知识存储
图3-18使用spo索引进行三元组模式查找RDF-3X的查询处理器首先对SPARQL查询进行转化，生成若干查询执行计划；对于仅包含一个三元组模式的查询，可以通过一次相应索引查找操作完成；对于由多个三元组模式组成的查询，需要对多个连接的顺序进行优化。,查询处理器,知识存储,,实现,查询执行计划生成,知识存储
同时，RDF-3X还开发了基于代价模型的选择度评估（Selectivity_Estimates）机制，采用选择度直方图和频繁连接路径相结合的方法进行查询执行计划的选择度评估。,RDF-3X,知识图谱项目,,来源,基于代价模型的选择度评估（Selectivity_Estimates）机制,知识存储
同时，RDF-3X还开发了基于代价模型的选择度评估（Selectivity_Estimates）机制，采用选择度直方图和频繁连接路径相结合的方法进行查询执行计划的选择度评估。,基于代价模型的选择度评估,知识存储,属性,英文名,Selectivity_Estimates,文本
RDF-3X是命令行程序，使用RDF-3X装载RDF文件music_1000_triples.nt的命令如图3-19所示，其中的rdf3xload是命令名称，testds是数据库名称；进行SPARQL查询的命令如图3-20所示，rdf3query是命令名称，sparql.rq是SPARQL查询文件名称。,RDF-3X,知识图谱项目,,包含,命令行程序,知识存储
图3-19使用RDF-3X装载RDF文件图3-20使用RDF-3X进行SPARQL查询3.开源RDF三元组数据库gStoregStore是基于图的RDF三元组数据库。,gStore,知识图谱项目,,属于,基于图的RDF三元组数据库,知识存储
gStore将RDF图G中的每个实体节点及其邻居属性和属性值编码成一个二进制位串，由这些位串作为节点组成一张与RDF图G对应的标签图G*。,gStore,知识图谱项目,属性,内容,将RDF图G中的每个实体节点及其邻居属性和属性值编码成一个二进制位串，由这些位串作为节点组成一张与RDF图G对应的标签图G*,文本
目前，gStore已经作为开源项目发布，源代码和文档可以从其GitHub项目网站下载。,gStore,知识图谱项目,,属于,开源项目,知识存储
与RDF-3X一样，gStore只能在Linux系统上运行。,gStore,知识图谱项目,,属于,Linux系统上的应用,知识存储
4.商业RDF三元组数据库VirtuosoVirtuoso虽然是可以支持多种数据模型的混合数据库管理系统，但其基础源自开发了多年的传统关系数据库管理系统，因此具备较为完善的事务管理、并发控制和完整性机制。,Virtuoso,知识图谱项目,,属于,商业RDF三元组数据库,知识存储
Virtuoso同时发布了商业版本VirtuosoUniversalServer（Virtuoso统一服务器）和开源版本OpenLinkVirtuoso。,Virtuoso,知识图谱项目,,包含,VirtuosoUniversalServer,知识图谱项目
Virtuoso同时发布了商业版本VirtuosoUniversalServer（Virtuoso统一服务器）和开源版本OpenLinkVirtuoso。,Virtuoso,知识图谱项目,,包含,OpenLinkVirtuoso,知识图谱项目
图3-21使用Virtuoso进行SPARQL查询5.商业RDF三元组数据库AllegroGraphAllegroGraph是Franz公司开发的RDF三元组数据库。,AllegroGraph,知识图谱项目,,属于,商业RDF三元组数据库,知识存储
图3-21使用Virtuoso进行SPARQL查询5.商业RDF三元组数据库AllegroGraphAllegroGraph是Franz公司开发的RDF三元组数据库。,AllegroGraph,知识图谱项目,,属于,Franz公司开发的RDF三元组数据库,知识存储
由于Franz公司有着深厚的人工智能背景，早期一直开发Common_Lisp和Prolog语言的实现工具，这使得AllegroGraph对语义推理功能具有较为完善的支持。,AllegroGraph,知识图谱项目,,属于,知识图谱,知识图谱
AllegroGraph除了三元组数据库的基本功能外，还支持动态物化的RDFS++推理机、OWL2_RL推理机、Prolog规则推理系统、时空推理机制、社会网络分析库、可视化RDF图浏览器等。,AllegroGraph,知识图谱项目,,包含,三元组数据库,知识存储
同时，AllegroGraph支持Java、Python、C#、Ruby、Clojure/Scala、Lisp等多种语言的编程访问接口。,AllegroGraph,知识图谱项目,,包含,编程访问接口,知识存储
6.商业RDF三元组数据库GraphDBGraphDB是RDF三元组数据库，其前身OWLIM一直是支持W3C语义Web标准的主流产品。,GraphDB,知识图谱项目,,属于,RDF三元组数据库,知识存储
GraphDB目前有社区免费版、标准版和企业版，其中企业版支持多台机器的集群分布式部署。,GraphDB,知识图谱项目,,包含,社区免费版,知识存储
GraphDB目前有社区免费版、标准版和企业版，其中企业版支持多台机器的集群分布式部署。,GraphDB,知识图谱项目,,包含,标准版,知识存储
GraphDB目前有社区免费版、标准版和企业版，其中企业版支持多台机器的集群分布式部署。,GraphDB,知识图谱项目,,包含,企业版,知识存储
GraphDB的高层架构如图3-26所示。,GraphDB,知识图谱项目,, 包含,高层架构,知识存储
（3）Connectors是GraphDB连接外部工具的桥梁，包括用于建立快速关键字查找功能的Lucene和用于建立搜索引擎的Solr和Elasticsearch。,Connectors,知识图谱项目,,属于,GraphDB连接外部工具的桥梁,知识图谱项目